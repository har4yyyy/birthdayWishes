<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>For You â™¥</title>
<style>
body {
    margin: 0;
    overflow: hidden;
    background: #000;
    user-select: none;
}
.popup {
    position: absolute;
    padding: 12px 18px;
    background: rgba(255,255,255,0.85);
    border-radius: 12px;
    font-size: 14px;
    color: #380b19;
    font-weight: bold;
    text-align: center;
    box-shadow: 0 0 12px rgba(138, 117, 119, 0.7);
    max-width: 220px;
    height: auto;
    word-wrap: break-word;
    opacity: 0;
    transform: scale(0.5);
    transition: opacity 0.8s, transform 0.8s;
}
.popup.show { opacity: 1; transform: scale(1); }

#cakeBtn {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 200px;
    transform: translate(-50%, -50%);
    cursor: pointer;
    border: none;
    background: none;
    outline: none;
    animation: cakeGlow 3s ease-in-out infinite;
}
canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
}
@keyframes cakeGlow {
    0% { filter: drop-shadow(0 0 8px #ff9bb5); }
    50% { filter: drop-shadow(0 0 20px #ffbfd2); }
    100% { filter: drop-shadow(0 0 8px #ff9bb5); }
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>
<button id="cakeBtn"><img src="birthdayCake.png" width="200"></button>
<audio id="bgm" src="hbd.mp3"></audio>

<script>
const lyrics = [
"æˆ‘å¯ä»¥ç¦»åŽ»åˆ«åœ¨å“­æ³£ï¼Œä¸è¦ä¼¤å¿ƒè¯·ä½ ç›¸ä¿¡æˆ‘ï¼Œè¦ç­‰å¾…æˆ‘çš„çˆ±ï¼Œé™ªä½ æ°¸ä¸ç¦»å¼€ â€”â€” JJã€Šä¼šæœ‰é‚£ä¹ˆä¸€å¤©ã€‹",
"å†»ç»“é‚£æ—¶é—´ï¼Œå†»ç»“åˆé‡é‚£ä¸€å¤©ï¼Œå†»ç»“é‚£çˆ±æ‹ï¼Œå†»ç»“å»ä½ é‚£çž¬é—´ â€”â€” JJã€Šå†»ç»“ã€‹",
"é”™ä¸Žå¯¹ç«Ÿç„¶ä¹Ÿå‡‘åœ¨ä¸€å †ï¼Œæˆ‘ç»†èƒžå·±å´©æºƒï¼Œè°å¤§å£°çš„å“€å¹ï¼Œè°ä¼šåœ¨ä¹Žè¦å¦‚ä½•æ”¶åœºï¼Œä½ ååæ­¤åˆ»å‡ºçŽ°ï¼ŒæŠŠæˆ‘æŠ½ç¦»è›®è’çš„ä¸–ç•Œ â€”â€” JJã€Šé«˜æ»šæ˜Ÿç©ºä¸‹çš„å»ã€‹",
"æˆ‘çš„å‘¼å¸æˆ‘çš„å¹æ¯ï¼Œæˆ‘çš„è¯éƒ½ä¸ºä½ è¯´ï¼Œæˆ‘çš„åŠªåŠ›æˆ‘çš„æ”¾å¼ƒï¼Œæˆ‘æ¯æ­¥éƒ½ä¸ºä½ èµ°ï¼Œåœ¨ä½ æ¢¦æƒ³çš„è¾¹ç¼˜ï¼Œæ€»æœ‰ä¸€ä¸ªäººä¸€ç›´ä¸ºä½ ä¸ºä½ å®ˆå€™ç€å®ƒï¼Œæˆ‘æ‰€æœ‰çš„æˆ‘æ²¡æœ‰çš„ï¼Œæˆ‘ä¸€åˆ‡éƒ½æ˜¯ä½ çš„ï¼Œæˆ‘å¾—åˆ°çš„æˆ‘å¤±åŽ»çš„ï¼Œæˆ‘æ‹¥æœ‰çš„éƒ½æ˜¯ä½ çš„ï¼Œä½ ä¹Ÿè®¸æ— æ³•äº†è§£ï¼Œæˆ‘ç»™çš„çˆ±å·±ç»è¶…ä¹Žæˆ‘ä»¥ä¸ºæˆ‘èƒ½å¤Ÿç»™çš„ â€”â€” JJã€Šæ˜Ÿçƒã€‹",
"æˆ‘è¦å®£å¸ƒçˆ±ä½ çš„äººå°±æ˜¯æˆ‘ï¼Œå¯¹æ²¡æœ‰é”™å°±æ˜¯è¦ï¼Œç®€ç®€å•å•çˆ±å°±æ˜¯æˆ‘ï¼Œä½ çˆ±æˆ‘ï¼Œä¸éœ€è¦å•°å—¦ â€”â€” JJã€Šå°±æ˜¯æˆ‘ã€‹",
"é£Žåˆ°è¿™é‡Œå°±æ˜¯ç²˜ï¼Œç²˜ä½è¿‡å®¢çš„æ€å¿µï¼Œé›¨åˆ°äº†è¿™é‡Œç¼ æˆçº¿ï¼Œç¼ ç€æˆ‘ä»¬æµè¿žäººä¸–é—´ï¼Œä½ åœ¨èº«è¾¹å°±æ˜¯ç¼˜ï¼Œç¼˜åˆ†å†™åœ¨ä¸‰ç”ŸçŸ³ä¸Šé¢ï¼Œçˆ±æœ‰ä¸‡åˆ†ä¹‹ä¸€ç”œï¼Œå®æ„¿æˆ‘å°±è‘¬åœ¨è¿™ä¸€ç‚¹ â€”â€” JJã€Šæ±Ÿå—ã€‹",
"ä¸æ‡‚çˆ±æ¨æƒ…ä»‡ç…Žç†¬çš„æˆ‘ä»¬ï¼Œéƒ½ä»¥ä¸ºç›¸çˆ±å°±åƒé£Žäº‘çš„å–„å˜ï¼Œç›¸ä¿¡çˆ±ä¸€å¤©ï¼ŒæŠµè¿‡æ°¸è¿œï¼Œåœ¨è¿™ä¸€åˆ¹é‚£å†»ç»“äº†æ—¶é—´ï¼Œä¸æ‡‚æ€Žä¹ˆè¡¨çŽ°æ¸©æŸ”çš„æˆ‘ä»¬ï¼Œè¿˜ä»¥ä¸ºæ®‰æƒ…åªæ˜¯å¤è€çš„ä¼ è¨€ï¼Œç¦»æ„èƒ½æœ‰å¤šç—›ï¼Œç—›æœ‰å¤šæµ“ï¼Œå½“æ¢¦è¢«åŸ‹åœ¨æ±Ÿå—çƒŸé›¨ä¸­ï¼Œå¿ƒç¢Žäº†æ‰æ‡‚ â€”â€” JJã€Šæ±Ÿå—ã€‹",
"åªè¦ä½ åœ¨æˆ‘èº«è¾¹ï¼Œæ‰€æœ‰èœšè¯­æµè¨€å®Œå…¨è§†è€Œä¸è§ï¼Œè¯·ä¸è¦åŒ†åŒ†ä¸€é¢ä¸€è½¬èº«å°±æ²‰å…¥æµ·å¹³çº¿ï¼Œä¼ è¯´ä¸­ä½ ä¸ºçˆ±ç”˜å¿ƒè¢«ææµ…ï¼Œæˆ‘ä¹Ÿå¯ä»¥ä¸ºä½ æ½œå…¥æµ·é‡Œé¢ï¼Œæ€Žä¹ˆå¿å¿ƒæ–­ç»ï¼Œå¿˜è®°æˆ‘ä¸å˜çš„èª“è¨€ï¼Œæˆ‘çœ¼æ³ªæ–­äº†çº¿ï¼ŒçŽ°å®žé‡Œæœ‰äº†æˆ‘å¯¹ä½ çš„çœ·æ‹ï¼Œæˆ‘æ„¿æ„åŒ–ä½œé›•åƒï¼Œç­‰ä½ å‡ºçŽ°ï¼Œå†è§å†ä¹Ÿä¸è§ï¼Œå¿ƒç¢Žäº†é£˜è¡åœ¨æµ·è¾¹ï¼Œä½ æŠ¬å¤´å°±çœ‹è§ä¼ è¯´ä¸­ä½ ä¸ºçˆ±ç”˜å¿ƒè¢«ææµ… â€”â€” JJã€Šç¾Žäººé±¼ã€‹",
"è®©çˆ±ï¼Œè½»æ‚„æ‚„çš„ï¼Œè¿½æ¥çš„ä¸éœ²ç—•è¿¹ï¼ŒåŒ–æˆä¸€ä»¶å¤–è¡£ï¼ŒæŠ«ä¸Šçœ¼å‰çš„ä½ ï¼Œæˆ‘æ€å¿µåˆ°äº†åº•ï¼Œå°±ä¸€ç›´é€—ç•™åœ¨ä½ å¿ƒé‡Œ â€”â€” JJã€Šç²¾çµã€‹",
"ä½ éœ€è¦æˆ‘çš„å‚»ç¬‘ï¼Œæˆ‘éœ€è¦ä½ çš„æ‹¥æŠ±ï¼Œçˆ±æƒ…å°±éœ€è¦è¿™æ ·ï¼Œå®ƒæ‰ä¸ä¼šå•è°ƒï¼Œæˆ‘çŸ¥é“æœ‰æ—¶å€™ä¹Ÿéœ€è¦åµåµé—¹é—¹ï¼Œä½†å§‹ç»ˆä¹ŸçŸ¥é“åªæœ‰ä½ å¯¹æˆ‘æœ€å¥½ â€”â€” JJã€Šè±†æµ†æ²¹æ¡ã€‹",
"æ”¶æ‹¾æˆ‘æ‰€æœ‰çš„è¡ŒæŽï¼Œæ­ä¹˜æœ«ç­å¸Œæœ›ç­æœºï¼Œå’Œä¿¡å¿ƒä¸€èµ·æ—…è¡Œï¼Œè¿™æ¬¡è¦å­¦ä¹ ä¸é€ƒé¿ï¼ŒæŒ¥åˆ«æˆ‘æ‰€æœ‰çš„ææƒ§ï¼Œå‹‡æ•¢åœ°èµ°ä¸‹åŽ»ï¼Œå¹¸ç¦åœ¨è¿™ä¸€çž¬é—´ï¼Œå¹¸ç¦å°±åœ¨è¿™ä¸€çž¬é—´ï¼Œæˆ‘ä¼šç‰¢è®°ï¼Œæ„Ÿè°¢æœ‰ä½ ï¼Œä¸€è·¯æœ‰ä½ ï¼Œçˆ±è®©ä¸€åˆ‡å˜å¾—æ›´ç¾Žä¸½ â€”â€” JJã€Šä¿¡å¿ƒæ—…é€”ã€‹",
"æˆ‘å”±å“ä¸–ç•Œï¼Œæ‰€æœ‰ä½ çˆ±å¬çš„æ­Œï¼Œç›´åˆ°æˆ‘æ²™äº†å“‘äº†ï¼Œä¹Ÿä¸è§‰å£æ¸´ï¼Œä¸–ç•Œæœ‰å¤ªå¤šæ‚²å‰§å¤ªå¤šä¼¤å¿ƒäº†ï¼Œæˆ‘æ‹¥æœ‰ä½ çš„æŽŒå£°ï¼Œå°±èƒ½å¾ˆå¿«ä¹ â€”â€” JJã€Šå”±å“ä¸–ç•Œã€‹",
"ä»Žå‰çš„æ‡µæ‡‚å¯ç¬‘ï¼Œæœªæ¥çš„æ²¡äººçŸ¥é“ï¼Œç­‰å¾…æ‹¥æŠ±è¿˜æ˜¯å¯»æ‰¾ï¼Œè¦å’†å“®è¿˜æ˜¯ç¥·å‘Šï¼Œåªæœ‰æˆ‘æœ€æ¸…æ¥šæˆ‘çš„éœ€è¦ï¼Œä¸ç”¨æŒ‡æ•™ï¼Œæˆ‘æ˜¯æˆ‘è‡ªå·±ç”Ÿå‘½ä¸­çš„ä¸»è§’ï¼Œè®©æ¢¦æƒ³åœ¨æˆ‘èƒ¸ä¸­ç‡ƒçƒ§ â€”â€” JJã€Šç”±ä½ é€‰æ‹©ã€‹",
"æŠ¢æ‰‹çš„çŽ«ç‘°ï¼Œæ€»æœ‰ä¸€å¤©ä¼šæž¯èŽï¼Œä¼šå¦æ²¡äººè¿½ï¼Œæ€€å¿µå½“åˆæœ‰æˆ‘é™ªï¼Œå¥¹çš„æ³ªå¤ªè™šä¼ªï¼Œè®©æˆ‘é£žï¼Œè®©æˆ‘è¿½ï¼ŒæŠ¢ä¸€é¢—å¿ƒç¢Žï¼ŒæŠ¢åˆ°æ‰€æœ‰äººä¼¤ç—•ç´¯ç´¯ â€”â€” JJã€ŠæŠ¢çŽ«ç‘°ã€‹",
"æ°¸è¿œç›¸ä¿¡çˆ±æ°¸ä¸ä¼šç»è¿¹ï¼Œè°èƒ½æŠ¹åŽ»é‚£äº›å¤è€ä¼ å¥‡ï¼Œæˆ‘ä»¬æ‰‹æ¡ç´§ï¼Œå‹‡æ°”å’Œä¿¡å¿ƒå°±èƒ½å¤Ÿæ— æ•Œï¼Œæ¸´æœ›æ¯ä¸ªæ˜Žå¤©ï¼Œå†³ä¸æ”¾å¼ƒï¼ŒåŠªåŠ›ç‡ƒçƒ§ï¼Œç”¨ä¸å®Œçš„æ´»åŠ›ï¼Œå¹»æƒ³çš„æ­£ä¹‰ï¼Œè§£å¼€äº†å¥¥ç§˜ï¼Œå¿ƒè·³æ°¸ä¸æš‚åœ â€”â€” JJã€Šçˆ±ä¸ä¼šç»è¿¹ã€‹",
"æˆ‘ä¸€ç›´éƒ½æƒ³å¯¹ä½ è¯´ï¼Œä½ ç»™æˆ‘æƒ³ä¸åˆ°çš„å¿«ä¹ï¼Œåƒç»¿æ´²ç»™äº†æ²™æ¼  â€”â€” é™¶å–†ã€Šå°±æ˜¯çˆ±ä½ ã€‹",
"su sanï¼Œåœ¨é‚£å‘½è¿æœˆå°å‰é¢ï¼Œå†ä¸Šè½¦æ˜¥å¤©å¼€å§‹è½å¶ â€”â€” é™¶å–†ã€ŠSusanè¯´ã€‹",
"æ³¢æµªåƒä»–ä»¬ç¢Žè£‚çš„å¿ƒï¼Œå¿«ç›¸é‡åˆåˆ†ç¦»ï¼Œä¸€å¥ä¸€å¥ï¼Œåœ¨æœˆå…‰ä¸‹å¹æ¯ â€”â€” é™¶å–†ã€ŠAngelineã€‹",
"æˆ‘æ„Ÿæ¿€ä½ å¯¹æˆ‘è¿™æ ·çš„å¦ç™½ï¼Œä½†æˆ‘ç»™ä½ çš„çˆ±æš‚æ—¶æ”¶ä¸å›žæ¥ï¼Œæ‰€ä»¥æˆ‘ä¸èƒ½åªæ˜¯ be your friend â€”â€” é™¶å–†ã€Šæ™®é€šæœ‹å‹ã€‹",
"è¿˜è®°å¾—ä¸€å¹´å‰ç«™åœ¨ç«è½¦ç«™ï¼Œçœ‹ç€è‡ªå·±çš„æ‚²å‰§æ¼”å®Œï¼Œé€è¿‡çŽ»ç’ƒçª—çœ‹è§ä½ çš„æ³ªæ»¡é¢ï¼Œé‚£è½¦å¤´ä¾ç„¶åç€çƒŸ â€”â€” é™¶å–†ã€Šå°é•‡å§‘å¨˜ã€‹"
];

const wishes = [
"ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ ç¬‘å£å¸¸å¼€ï¼Œå¹¸ç¦æ°¸è¿œï¼",
"å¸Œæœ›ä½ ä¸‹å­¦æœŸåœ¨ upenn è¿‡çš„å¼€å¿ƒ",
"ç¥ä½ å¤©å¤©å¼€å¿ƒï¼Œæ¢¦æƒ³æˆçœŸï¼",
"æ„¿ä½ æ‹¥æœ‰æ— é™çš„çˆ±ä¸Žå¿«ä¹ï¼",
"ç”Ÿæ—¥å¿«ä¹ï¼æ„¿æ¯ä¸€å¤©éƒ½åƒä»Šå¤©ä¸€æ ·ç²¾å½©ï¼",
"final é¡ºåˆ©é€šè¿‡ï¼ŒGPA ç¿»å€ï¼",
"æ„¿ä½ å¿ƒæƒ³äº‹æˆï¼Œé’æ˜¥å¸¸é©»ï¼",
"ç¥ä½ æ—©æ—¥æ‰¾åˆ°å¥³æœ‹å‹å“ˆå“ˆå“ˆå“ˆ",
"ç¥ä½ å¥åº·å¹³å®‰ï¼Œå¿«ä¹æ— è¾¹ï¼",
"æ„¿ä½ çš„äººç”Ÿå……æ»¡ç¾Žå¥½ä¸ŽæƒŠå–œï¼",
"å®žä¹  offer æ¥æ¥æ¥",
"Happy Birthdayï¼æ„¿ä½ é—ªè€€å¦‚æ˜Ÿï¼",
"æ„¿ä½ çš„æœªæ¥å……æ»¡å¸Œæœ›ä¸Žå…‰èŠ’ï¼",
"æ¥è´¢ æ¥ æ¥è´¢ æ¥",
"æ„¿ä½ åœ¨æ–°çš„ä¸€å²é‡Œå®žçŽ°æ‰€æœ‰æ¢¦æƒ³ï¼",
"ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ æ‹¥æœ‰æœ€ç¾Žå¥½çš„å›žå¿†ï¼",
"å°ç¾ŠðŸç”Ÿæ—¥å¿«ä¹ï¼"
];
const texts = lyrics.concat(wishes);

function createPopup(text){
    const div = document.createElement("div");
    div.className = "popup";
    div.style.left = `${Math.random() * (window.innerWidth - 240)}px`;
    div.style.top = `${Math.random() * (window.innerHeight - 100)}px`;
    div.innerHTML = text;
    document.body.appendChild(div);
    setTimeout(()=> div.classList.add("show"), 50);
    const duration = 3000 + Math.random()*2000;
    setTimeout(()=>{
        div.classList.remove("show");
        setTimeout(()=> div.remove(), 800);
    }, duration);
}
function startPopups(){
    let i = 0;
    const interval = setInterval(()=>{
        createPopup(texts[i % texts.length]);
        i++;
        if(i == texts.length) clearInterval(interval);
    }, 800 + Math.random()*300);
}

const audio = document.getElementById("bgm");
const cakeBtn = document.getElementById("cakeBtn");
cakeBtn.addEventListener("click", ()=>{
    audio.play();
    cakeBtn.disabled = true;
    startPopups();
});

const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
resize(); addEventListener("resize", resize);

let fireworks = [];
let meteors = [];

class Particle {
    constructor(x,y,bright=false){
        this.x = x;
        this.y = y;
        this.dx = (Math.random()-0.5)*(bright?8:3);
        this.dy = (Math.random()-0.5)*(bright?8:3);
        this.life = bright?80:50;
        this.size = Math.random()*(bright?3:2)+1;
        this.color = `hsl(${Math.random()*360},100%,${bright?70:60}%)`;
    }
    update(){
        this.x += this.dx;
        this.y += this.dy;
        this.dy += 0.05;
        this.life--;
    }
    draw(){
        ctx.fillStyle = this.color.replace('hsl','hsla').replace(')',`,${this.life/80})`);
        ctx.fillRect(this.x,this.y,this.size,this.size);
    }
}

class Meteor {
    constructor(){
        this.x = Math.random()*canvas.width;
        this.y = Math.random()* + canvas.height;
        this.len = 10 + Math.random()*100;
        this.speed = 4 + Math.random()*3;
    }
    update(){ this.y -= this.speed; }
    draw(){
        ctx.strokeStyle = 'rgba(255,255,255,0.8)';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(this.x,this.y);
        ctx.lineTo(this.x,this.y + this.len);
        ctx.stroke();
    }
}

class Firework {
    constructor(x,y){
        this.particles = [];
        for(let i=0;i<60;i++){
            this.particles.push(new Particle(x,y,true));
        }
        this.completed = false;
    }
    update(){
        this.particles.forEach(p=>p.update());
        this.particles = this.particles.filter(p=>p.life>0);
        if(this.particles.length===0) this.completed=true;
    }
    draw(){ this.particles.forEach(p=>p.draw()); }
}

window.addEventListener("click",(e)=>{
    fireworks.push(new Firework(e.clientX,e.clientY));
});

function loop(){
    requestAnimationFrame(loop);
    ctx.fillStyle = "rgba(0,0,0,0.2)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    if(Math.random()<0.03) meteors.push(new Meteor());
    meteors.forEach(m=>{ m.update(); m.draw(); });
    meteors = meteors.filter(m=>m.y < canvas.height + m.len);

    fireworks.forEach(f=>{ f.update(); f.draw(); });
    fireworks = fireworks.filter(f=>!f.completed);
}
loop();
</script>
</body>
</html>
